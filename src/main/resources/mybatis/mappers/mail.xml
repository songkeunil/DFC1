<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mapper.mail">
  <resultMap id="MemberVOResultMap" type="MemberVO">
	<result property="member_id" column="MEMBER_ID"/>
	<result property="member_pw" column="MEMBER_PW"/>
	<result property="member_name" column="MEMBER_NAME"/>
	<result property="member_email" column="MEMBER_EMAIL"/>
	</resultMap>
<!-- 	<insert id="createAuthKey">
		insert into MEMBER_AUTH values(#{memberEmail},#{authKey})
	</insert> -->
  <select id="findId" resultMap="MemberVOResultMap" >
  		select * from MEMBER where MEMBER_EMAIL = #{memberEmail}
  </select>
<select id="findIdCheck" resultType="int" >
		select count(*) from MEMBER where MEMBER_Email = #{memberEmail}
</select>
	<update id="findPw">
	update MEMBER set MEMBER_PW = #{memberPw} where MEMBER_EMAIL = #{member_email} and MEMBER_ID = #{member_id}
	</update>
	
	<select id="findPwCheck" resultType="int">
		select count(*) from MEMBER where MEMBER_Email = #{member_email} and MEMBER_ID = #{member_id}
	</select>
</mapper>